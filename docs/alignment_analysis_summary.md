# Frame-State å¯¹é½åˆ†ææ±‡æ€»æŠ¥å‘Š

> åˆ†ææ—¶é—´ï¼š2026-01-26
>
> åˆ†æå·¥å…·ï¼š`scripts/analyze_frame_state_alignment.py`
>
> åˆ†ææ–¹æ³•ï¼šState å¼•å¯¼å»å™ª + æ£€æµ‹æ¨¡å¼ä¼˜åŒ–

---

## æ±‡æ€»ç»“æœ

| æ•°æ®é›† | æ ¼å¼ | FPS | æ£€æµ‹æ¨¡å¼ | å¹³å‡åç§» | ä¸­ä½æ•°åç§» | å»¶è¿Ÿ(ms) | å»å™ªæå‡ | è¯„ä¼° |
|--------|------|-----|----------|----------|------------|----------|----------|------|
| **0115_qz2_plant/merged** | v2.0 | 25 | ROI | +0.41å¸§ | 0å¸§ | 16ms | +15.7% | âœ… ä¼˜ç§€ |
| **1226_qz2/merged** | v2.0 | 25 | ROI | +1.23å¸§ | +1å¸§ | 49ms | +33.2% | âš ï¸ æ­£å¸¸ |
| **1226_qz2/merged_nearest** | v2.0 | 25 | ROI | +1.93å¸§ | +2å¸§ | 77ms | +35.1% | âš ï¸ éœ€å…³æ³¨ |
| **aloha_mobile_cabinet** | v3.0 | 50 | Black | +1.55å¸§ | +3å¸§ | 31ms | +34.1% | âš ï¸ æ­£å¸¸ |

---

## è¯¦ç»†åˆ†æ

### 1. 0115_qz2_plant/merged

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æ•°æ®é›†è·¯å¾„ | `/pfs/.../0115_qz2_plant/merged` |
| æ ¼å¼ç‰ˆæœ¬ | LeRobot v2.0 |
| é‡‡æ ·ç‡ | 25 FPS |
| åˆ†æå¸§æ•° | 1206 |
| æ£€æµ‹äº‹ä»¶æ•° | 32 |
| **å¹³å‡åç§»** | **+0.41 å¸§ (16ms)** |
| ä¸­ä½æ•°åç§» | 0 å¸§ |
| æ ‡å‡†å·® | 1.00 å¸§ |
| åç§»èŒƒå›´ | [-1, +2] å¸§ |
| å»å™ªç›¸å…³æ€§æå‡ | 0.731 â†’ 0.846 (+15.7%) |

**ç»“è®º**: âœ… **Frame å’Œ State/Action å¯¹é½è‰¯å¥½**ï¼Œå¯ç›´æ¥ç”¨äºè®­ç»ƒã€‚

---

### 2. 1226_qz2/merged

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æ•°æ®é›†è·¯å¾„ | `/pfs/.../1226_qz2/merged` |
| æ ¼å¼ç‰ˆæœ¬ | LeRobot v2.0 |
| é‡‡æ ·ç‡ | 25 FPS |
| åˆ†æå¸§æ•° | 2115 |
| æ£€æµ‹äº‹ä»¶æ•° | 57 |
| **å¹³å‡åç§»** | **+1.23 å¸§ (49ms)** |
| ä¸­ä½æ•°åç§» | +1 å¸§ |
| æ ‡å‡†å·® | 1.09 å¸§ |
| åç§»èŒƒå›´ | [-1, +4] å¸§ |
| å»å™ªç›¸å…³æ€§æå‡ | 0.657 â†’ 0.874 (+33.2%) |

**ç»“è®º**: âš ï¸ **Video è½»å¾®æ»å**ï¼Œ49ms å»¶è¿Ÿåœ¨å¯æ¥å—èŒƒå›´å†…ã€‚

---

### 3. 1226_qz2/merged_nearest

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æ•°æ®é›†è·¯å¾„ | `/pfs/.../1226_qz2/merged_nearest` |
| æ ¼å¼ç‰ˆæœ¬ | LeRobot v2.0 |
| é‡‡æ ·ç‡ | 25 FPS |
| åˆ†æå¸§æ•° | 2122 |
| æ£€æµ‹äº‹ä»¶æ•° | 56 |
| **å¹³å‡åç§»** | **+1.93 å¸§ (77ms)** |
| ä¸­ä½æ•°åç§» | +2 å¸§ |
| æ ‡å‡†å·® | 1.16 å¸§ |
| åç§»èŒƒå›´ | [0, +5] å¸§ |
| å»å™ªç›¸å…³æ€§æå‡ | 0.623 â†’ 0.841 (+35.1%) |

**ç»“è®º**: âš ï¸ **Video æ»åçº¦ 2 å¸§**ï¼Œ77ms å»¶è¿Ÿå»ºè®®åœ¨è®­ç»ƒæ—¶è€ƒè™‘è¡¥å¿ã€‚

> **å¯¹æ¯”**: `merged_nearest` æ¯” `merged` çš„å»¶è¿Ÿæ›´å¤§ (+0.7å¸§)ï¼Œè¯´æ˜ nearest æ’å€¼æ–¹å¼å¯èƒ½å¼•å…¥é¢å¤–å»¶è¿Ÿã€‚

---

### 4. aloha_mobile_cabinet

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æ•°æ®é›†è·¯å¾„ | `/pfs/.../opensource/aloha_mobile_cabinet` |
| æ ¼å¼ç‰ˆæœ¬ | LeRobot v3.0 |
| é‡‡æ ·ç‡ | 50 FPS |
| æœºå™¨äººç±»å‹ | ALOHA |
| åˆ†æå¸§æ•° | 1500 |
| æ£€æµ‹äº‹ä»¶æ•° | 161 |
| **å¹³å‡åç§»** | **+1.55 å¸§ (31ms)** |
| ä¸­ä½æ•°åç§» | +3 å¸§ |
| æ ‡å‡†å·® | 3.41 å¸§ |
| åç§»èŒƒå›´ | [-5, +5] å¸§ |
| å»å™ªç›¸å…³æ€§æå‡ | 0.460 â†’ 0.617 (+34.1%) |

**ç»“è®º**: âš ï¸ **Video è½»å¾®æ»å**ï¼Œ31ms å»¶è¿Ÿåœ¨å¯æ¥å—èŒƒå›´å†…ã€‚ä½†åç§»åˆ†å¸ƒè¾ƒåˆ†æ•£ï¼ˆæ ‡å‡†å·®è¾ƒå¤§ï¼‰ã€‚

---

## åç§»è¯„ä¼°æ ‡å‡†

| åç§»é‡ | å»¶è¿Ÿ(25fps) | å»¶è¿Ÿ(50fps) | è¯„ä¼° | å»ºè®® |
|--------|-------------|-------------|------|------|
| 0~1 å¸§ | 0-40ms | 0-20ms | âœ… ä¼˜ç§€ | å¯ç›´æ¥ä½¿ç”¨ |
| 1~2 å¸§ | 40-80ms | 20-40ms | âš ï¸ æ­£å¸¸ | é€šå¸¸å¯æ¥å— |
| > 2 å¸§ | > 80ms | > 40ms | âŒ éœ€å…³æ³¨ | å»ºè®®è¡¥å¿å¤„ç† |

---

## å»å™ªæ•ˆæœåˆ†æ

State å¼•å¯¼å»å™ªåœ¨æ‰€æœ‰æ•°æ®é›†ä¸Šéƒ½å–å¾—äº†æ˜¾è‘—çš„ç›¸å…³æ€§æå‡ï¼š

| æ•°æ®é›† | å»å™ªå‰ç›¸å…³æ€§ | å»å™ªåç›¸å…³æ€§ | æå‡å¹…åº¦ |
|--------|-------------|-------------|----------|
| 0115_qz2_plant/merged | 0.731 | 0.846 | +15.7% |
| 1226_qz2/merged | 0.657 | 0.874 | +33.2% |
| 1226_qz2/merged_nearest | 0.623 | 0.841 | +35.1% |
| aloha_mobile_cabinet | 0.460 | 0.617 | +34.1% |

**å¹³å‡æå‡: +29.5%**

---

## æ•°æ®é›†å¯¹æ¯”

### æŒ‰å¯¹é½è´¨é‡æ’åº

1. ğŸ¥‡ **0115_qz2_plant/merged** - å¯¹é½æœ€ä½³ (+0.41å¸§, 16ms)
2. ğŸ¥ˆ **aloha_mobile_cabinet** - è‰¯å¥½ (+1.55å¸§, 31ms @ 50fps)
3. ğŸ¥‰ **1226_qz2/merged** - è½»å¾®æ»å (+1.23å¸§, 49ms)
4. âš ï¸ **1226_qz2/merged_nearest** - æ»åæ˜æ˜¾ (+1.93å¸§, 77ms)

### æ’å€¼æ–¹å¼å½±å“

å¯¹æ¯” `1226_qz2` çš„ä¸¤ç§å¤„ç†æ–¹å¼ï¼š

| å¤„ç†æ–¹å¼ | å¹³å‡åç§» | å»¶è¿Ÿ |
|----------|----------|------|
| merged (çº¿æ€§æ’å€¼) | +1.23å¸§ | 49ms |
| merged_nearest (æœ€è¿‘é‚») | +1.93å¸§ | 77ms |

**ç»“è®º**: çº¿æ€§æ’å€¼ (`merged`) çš„å¯¹é½æ•ˆæœä¼˜äºæœ€è¿‘é‚»æ’å€¼ (`merged_nearest`)ã€‚

---

## å»ºè®®

### è®­ç»ƒä½¿ç”¨å»ºè®®

1. **0115_qz2_plant/merged**: å¯ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å¤„ç†
2. **aloha_mobile_cabinet**: å¯ç›´æ¥ä½¿ç”¨ï¼Œ31ms å»¶è¿Ÿåœ¨é«˜å¸§ç‡ä¸‹å½±å“è¾ƒå°
3. **1226_qz2/merged**: å»ºè®®ä½¿ç”¨ï¼Œå¦‚è¿½æ±‚æè‡´å¯è€ƒè™‘ State åç§» 1 å¸§
4. **1226_qz2/merged_nearest**: å»ºè®®å°† State/Action åç§» 2 å¸§ä¸ Video å¯¹é½

### æ•°æ®å¤„ç†å»ºè®®

- ä¼˜å…ˆä½¿ç”¨**çº¿æ€§æ’å€¼**è€Œéæœ€è¿‘é‚»æ’å€¼è¿›è¡Œæ•°æ®å¯¹é½
- å¯¹äº > 2 å¸§åç§»çš„æ•°æ®é›†ï¼Œå¯åœ¨åŠ è½½æ—¶è¿›è¡Œæ—¶é—´è¡¥å¿
- ä½¿ç”¨ `--denoise` é€‰é¡¹å¯æ˜¾è‘—æé«˜åç§»æ£€æµ‹çš„å‡†ç¡®æ€§

---

## ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| [`scripts/analyze_frame_state_alignment.py`](../scripts/analyze_frame_state_alignment.py) | åˆ†æè„šæœ¬ |
| [`docs/frame_state_alignment.md`](frame_state_alignment.md) | åŸç†è¯´æ˜æ–‡æ¡£ |
| `output/analysis_*/episode_*_alignment.png` | å¯è§†åŒ–å›¾è¡¨ |
| `output/analysis_*/episode_*_report.json` | è¯¦ç»† JSON æŠ¥å‘Š |
