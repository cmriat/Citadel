# Citadel_release å¼€å‘è¿›åº¦

## é¡¹ç›®ä¿¡æ¯

- **å¼€å§‹æ—¥æœŸ**: 2025-12-26
- **å½“å‰ç‰ˆæœ¬**: v0.1.0-alpha
- **é¡¹ç›®çŠ¶æ€**: ğŸš§ å¼€å‘ä¸­

---

## é˜¶æ®µ1: é¡¹ç›®åˆå§‹åŒ– âœ…

**çŠ¶æ€**: å·²å®Œæˆå¹¶æµ‹è¯•éªŒè¯
**å®Œæˆæ—¥æœŸ**: 2025-12-26
**æµ‹è¯•æ—¥æœŸ**: 2025-12-28

### å®Œæˆé¡¹ç›®
- [x] åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
- [x] é…ç½® `pixi.toml` ä¾èµ–æ–‡ä»¶
- [x] å¤åˆ¶æ ¸å¿ƒè„šæœ¬ (`download.sh` å’Œ `convert.py`)
- [x] åˆ›å»ºCLIå·¥å…·éª¨æ¶
- [x] ç¼–å†™ `README.md`
- [x] ç¼–å†™ `PROGRESS.md`
- [x] æ‰§è¡Œ `pixi install` éªŒè¯ç¯å¢ƒ âœ… **å·²é€šè¿‡**
- [x] æµ‹è¯•CLIå·¥å…·å¯åŠ¨ âœ… **å·²é€šè¿‡**
- [x] æµ‹è¯•mcå·¥å…·è¿æ¥ âœ… **å·²é€šè¿‡** (v2025-08-13)
- [x] æµ‹è¯•BOSæ–‡ä»¶ä¸‹è½½ âœ… **å·²é€šè¿‡** (2.55MB/s)

### æµ‹è¯•ç»“æœ
**âœ… é€šè¿‡çš„æµ‹è¯•**:
- pixiä¾èµ–å®‰è£…æˆåŠŸ
- download CLIå·¥å…·æ­£å¸¸å¯åŠ¨ï¼Œå‚æ•°è§£ææ­£ç¡®
- convert CLIå·¥å…·æ­£å¸¸å¯åŠ¨ï¼Œå‚æ•°è§£ææ­£ç¡®
- mcå·¥å…·å¯ç”¨ï¼Œå¯æ­£å¸¸è®¿é—®BOSå­˜å‚¨
- æˆåŠŸä»BOSä¸‹è½½æµ‹è¯•æ–‡ä»¶ (episode_0002.h5, 2.55MB)

**âš ï¸ å‘ç°çš„é—®é¢˜**:
- convert.pyè„šæœ¬ä¸BOSæ•°æ®æ ¼å¼ä¸åŒ¹é…
  - è„šæœ¬æœŸæœ›: `observations/images_color/...` ç»“æ„
  - å®é™…æ•°æ®: `images/cam_xxx/frames_jpeg` + `joints/left_master/...` ç»“æ„
  - **éœ€è¦é€‚é…online_test_hdf5_v1æ ¼å¼**

**å…³é”®æ–‡ä»¶**:
- âœ… `/data/maozan/code/Citadel_release/pixi.toml`
- âœ… `/data/maozan/code/Citadel_release/scripts/download.sh`
- âš ï¸ `/data/maozan/code/Citadel_release/scripts/convert.py` (éœ€è¦æ ¼å¼é€‚é…)
- âœ… `/data/maozan/code/Citadel_release/cli/download_cli.py`
- âœ… `/data/maozan/code/Citadel_release/cli/convert_cli.py`

---

## é˜¶æ®µ2: åç«¯æ ¸å¿ƒæœåŠ¡ â³

**çŠ¶æ€**: æœªå¼€å§‹
**é¢„è®¡æ—¶é—´**: 2å¤©

### 2.1 ä¸‹è½½æœåŠ¡ â³
- [ ] å®ç° `backend/services/download_service.py`
- [ ] å°è£…mcå‘½ä»¤æ‰§è¡Œ
- [ ] å®æ—¶è¿›åº¦è§£æ

### 2.2 è½¬æ¢æœåŠ¡ â³
- [ ] å®ç° `backend/services/convert_service.py`
- [ ] å°è£…convert.pyè°ƒç”¨
- [ ] æ‰¹é‡è½¬æ¢é€»è¾‘

### 2.3 ä»»åŠ¡ç®¡ç† â³
- [ ] å®ç° `backend/services/task_manager.py`
- [ ] ä»»åŠ¡CRUDæ“ä½œ
- [ ] JSONæ–‡ä»¶æŒä¹…åŒ–

### 2.4 APIè·¯ç”± â³
- [ ] å®ç°ä¸‹è½½API (`backend/routers/download.py`)
- [ ] å®ç°è½¬æ¢API (`backend/routers/convert.py`)
- [ ] å®ç° `backend/main.py` å…¥å£

---

## é˜¶æ®µ2.5: CLIå·¥å…·å¼€å‘ âœ…

**çŠ¶æ€**: å·²å®Œæˆ
**å®Œæˆæ—¥æœŸ**: 2025-12-28
**å®é™…è€—æ—¶**: <1å¤©

### 2.5.1 ä¸‹è½½CLIå·¥å…· âœ…
- [x] åˆ›å»º `cli/download_cli.py` éª¨æ¶
- [x] å®ç°å®Œæ•´ä¸‹è½½åŠŸèƒ½ï¼ˆmc mirrorå°è£…ï¼‰
- [x] é›†æˆmc_executorå’Œè¿›åº¦è·Ÿè¸ª
- [x] BOSè¿æ¥æ£€æŸ¥
- [x] é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- [x] æµ‹è¯•éªŒè¯ï¼ˆ18ä¸ªæ–‡ä»¶ï¼Œ235MBä¸‹è½½æˆåŠŸï¼‰

### 2.5.2 è½¬æ¢CLIå·¥å…· âœ…
- [x] åˆ›å»º `cli/convert_cli.py` éª¨æ¶
- [x] å®ç°æ‰¹é‡è½¬æ¢åŠŸèƒ½
- [x] å¹¶å‘è½¬æ¢æ§åˆ¶ï¼ˆThreadPoolExecutorï¼‰
- [x] è¿›åº¦æ˜¾ç¤ºå’Œç»Ÿè®¡ä¿¡æ¯
- [x] é”™è¯¯å¤„ç†å’Œè¶…æ—¶æ§åˆ¶ï¼ˆ5åˆ†é’Ÿ/æ–‡ä»¶ï¼‰
- [x] æµ‹è¯•éªŒè¯ï¼ˆ3æ–‡ä»¶å¹¶å‘è½¬æ¢ï¼Œ3.3ç§’å®Œæˆï¼‰

### 2.5.3 å·¥å…·æ¨¡å— âœ…
- [x] åˆ›å»º `cli/utils/mc_executor.py` éª¨æ¶
- [x] å®ç°mcå‘½ä»¤æ‰§è¡Œå’Œè¿›åº¦è§£æ
- [x] å®ç°å®æ—¶è¾“å‡ºæ•è·
- [x] å®ç°BOSè¿æ¥æ£€æŸ¥
- [x] åˆ›å»º `cli/utils/progress.py` éª¨æ¶
- [x] å®ç°ProgressTrackerè¿›åº¦è·Ÿè¸ªå™¨

---

## é˜¶æ®µ3: æ—¥å¿—å’Œç›‘æ§ â³

**çŠ¶æ€**: æœªå¼€å§‹
**é¢„è®¡æ—¶é—´**: 1å¤©

- [ ] å®ç°æ—¥å¿—æµæœåŠ¡ (`backend/services/log_streamer.py`)
- [ ] WebSocketæ—¥å¿—æ¨é€
- [ ] å®ç°ç›‘æ§API (`backend/routers/monitor.py`)
- [ ] ç³»ç»ŸçŠ¶æ€æ£€æµ‹

---

## é˜¶æ®µ4: å‰ç«¯å¼€å‘ â³

**çŠ¶æ€**: æœªå¼€å§‹
**é¢„è®¡æ—¶é—´**: 3å¤©

### 4.1 é¡¹ç›®åˆå§‹åŒ– â³
- [ ] åˆå§‹åŒ–Vite + Vue3é¡¹ç›®
- [ ] å®‰è£…Element Plus
- [ ] é…ç½®è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†

### 4.2 ä¸‹è½½ç®¡ç†é¡µ â³
- [ ] å®ç° `DownloadView.vue`
- [ ] ä»»åŠ¡é…ç½®è¡¨å•
- [ ] ä»»åŠ¡åˆ—è¡¨å’Œè¿›åº¦å±•ç¤º

### 4.3 è½¬æ¢ç®¡ç†é¡µ â³
- [ ] å®ç° `ConvertView.vue`
- [ ] æ–‡ä»¶é€‰æ‹©å™¨
- [ ] HDF5é¢„è§ˆç»„ä»¶

### 4.4 ç›‘æ§å’Œæ•°æ®æµè§ˆ â³
- [ ] å®ç° `MonitorView.vue`
- [ ] å®ç° `DataView.vue`

---

## é˜¶æ®µ5: é›†æˆæµ‹è¯• â³

**çŠ¶æ€**: æœªå¼€å§‹
**é¢„è®¡æ—¶é—´**: 1å¤©

- [ ] å®Œæ•´æµç¨‹æµ‹è¯•ï¼ˆä¸‹è½½18ä¸ªHDF5 â†’ æ‰¹é‡è½¬æ¢ï¼‰
- [ ] å¹¶å‘ä»»åŠ¡æµ‹è¯•
- [ ] å¼‚å¸¸å¤„ç†æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•

---

## é˜¶æ®µ6: æ–‡æ¡£å’Œéƒ¨ç½² â³

**çŠ¶æ€**: æœªå¼€å§‹
**é¢„è®¡æ—¶é—´**: 0.5å¤©

- [ ] å®Œå–„README.md
- [ ] ç¼–å†™USER_GUIDE.md
- [ ] ä¼˜åŒ–ç”Ÿäº§é…ç½®
- [ ] æ›´æ–°PROGRESS.md

---

## å½“å‰å¾…åŠ

### ç«‹å³æ‰§è¡Œ
1. âœ… å®Œæˆé˜¶æ®µ1å‰©ä½™ä»»åŠ¡ï¼šæ‰§è¡Œ `pixi install` éªŒè¯ç¯å¢ƒ
2. â³ å¼€å§‹é˜¶æ®µ2ï¼šåç«¯æ ¸å¿ƒæœåŠ¡å¼€å‘

### åç»­è®¡åˆ’
3. å®ŒæˆCLIå·¥å…·å®Œæ•´åŠŸèƒ½ï¼ˆé˜¶æ®µ2.5ï¼‰
4. å®ç°æ—¥å¿—å’Œç›‘æ§ï¼ˆé˜¶æ®µ3ï¼‰
5. å¼€å‘Webå‰ç«¯ï¼ˆé˜¶æ®µ4ï¼‰

---

## å·²çŸ¥é—®é¢˜

### âœ… å·²è§£å†³
1. **HDF5æ•°æ®æ ¼å¼ä¸åŒ¹é…** (å‘ç°æ—¥æœŸ: 2025-12-28ï¼Œè§£å†³æ—¥æœŸ: 2025-12-28)
   - **é—®é¢˜**: `scripts/convert.py` è„šæœ¬æœŸæœ›çš„æ•°æ®ç»“æ„ä¸BOSä¸Šçš„å®é™…æ•°æ®æ ¼å¼ä¸ä¸€è‡´
   - **å½±å“**: æ— æ³•è½¬æ¢ `online_test_hdf5_v1` ç›®å½•ä¸‹çš„HDF5æ–‡ä»¶
   - **åŸå› **:
     - è„šæœ¬æœŸæœ›: `observations/images_color/head`, `observations/jointstate/q` ç­‰
     - å®é™…æ ¼å¼: `images/cam_env/frames_jpeg`, `joints/left_master/joint1_pos` ç­‰
     - å›¾åƒå­˜å‚¨: è„šæœ¬æœŸæœ›æ•°ç»„ï¼Œå®é™…ä¸ºJPEGå‹ç¼©æ ¼å¼
     - å¤šç›¸æœºå¸§æ•°ä¸ä¸€è‡´ï¼ˆ52/44/44å¸§ï¼‰
     - Master/Slaveæ•°æ®ä½¿ç”¨å„è‡ªæ—¶é—´æˆ³
   - **è§£å†³æ–¹æ¡ˆ**:
     - å®ç° `load_episode_v1_format()` å‡½æ•°é€‚é…v1æ ¼å¼
     - ä½¿ç”¨PILè§£ç JPEGå›¾åƒ
     - å®ç°å¤šç›¸æœºæ—¶é—´å¯¹é½ï¼ˆä»¥æœ€å°‘å¸§æ•°ç›¸æœºä¸ºåŸºå‡†ï¼‰
     - å…³èŠ‚æ•°æ®ä»250Hzå¯¹é½åˆ°~26fpså›¾åƒ
     - åˆ†åˆ«å¤„ç† left_master å’Œ right_master æ—¶é—´æˆ³
   - **æµ‹è¯•ç»“æœ**: âœ… é€šè¿‡
     - 44å¸§æ•°æ®æ­£ç¡®ç”Ÿæˆï¼ˆState/Actionå„14ç»´ï¼‰
     - æ—¶é—´å¯¹é½ç²¾åº¦ä¼˜ç§€ï¼ˆå¹³å‡è¯¯å·®1-9msï¼‰
     - è¾“å‡ºç¬¦åˆLeRobot v2.1æ ‡å‡†
   - **çŠ¶æ€**: âœ… å·²å®Œæˆ

### ğŸ”´ é«˜ä¼˜å…ˆçº§
- æ— 

---

## æŠ€æœ¯å€ºåŠ¡

- æ— 

---

## é‡Œç¨‹ç¢‘

- âœ… **2025-12-26**: é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼Œéª¨æ¶æ­å»ºå®Œæˆ
- âœ… **2025-12-28 ä¸Šåˆ**: HDF5æ ¼å¼é€‚é…å®Œæˆï¼Œè½¬æ¢åŠŸèƒ½æµ‹è¯•é€šè¿‡
  - å®ç°v1æ ¼å¼åŠ è½½å™¨ï¼ˆJPEGè§£ç ã€å¤šç›¸æœºå¯¹é½ã€æ—¶é—´åŒæ­¥ï¼‰
  - ä¿®å¤masteræ—¶é—´æˆ³bugå’Œå…ƒæ•°æ®ç»´åº¦ä¸åŒ¹é…
  - æµ‹è¯•ç»“æœï¼š44å¸§ï¼Œæ—¶é—´å¯¹é½è¯¯å·®<30msï¼Œç¬¦åˆLeRobot v2.1æ ‡å‡†
- âœ… **2025-12-28 ä¸‹åˆ**: CLIå·¥å…·å¼€å‘å®Œæˆï¼ˆé˜¶æ®µ2.5å®Œæˆï¼‰ ğŸ‰
  - **è½¬æ¢CLIå·¥å…·**: æ‰¹é‡è½¬æ¢ã€å¹¶å‘æ§åˆ¶ã€è¿›åº¦æ˜¾ç¤ºã€é”™è¯¯å¤„ç†
  - **ä¸‹è½½CLIå·¥å…·**: mcå°è£…ã€BOSè¿æ¥æ£€æŸ¥ã€è¿›åº¦è·Ÿè¸ª
  - **æµ‹è¯•ç»“æœ**:
    - ä¸‹è½½ï¼š18ä¸ªHDF5æ–‡ä»¶ï¼Œ235MBï¼Œ12.9ç§’
    - è½¬æ¢ï¼š3æ–‡ä»¶å¹¶å‘ï¼Œæ€»è€—æ—¶3.3ç§’ï¼ˆå¹³å‡1.1ç§’/æ–‡ä»¶ï¼‰
- â³ **ç›®æ ‡**: åç«¯APIå¯ç”¨ï¼ˆé˜¶æ®µ2+3å®Œæˆï¼‰
- â³ **ç›®æ ‡**: Webç•Œé¢å¯ç”¨ï¼ˆé˜¶æ®µ4å®Œæˆï¼‰
- â³ **ç›®æ ‡**: v0.1.0æ­£å¼å‘å¸ƒï¼ˆå…¨éƒ¨é˜¶æ®µå®Œæˆï¼‰

---

**æ›´æ–°é¢‘ç‡**: æ¯å®Œæˆä¸€ä¸ªå­ä»»åŠ¡æ›´æ–°ä¸€æ¬¡
**æœ€åæ›´æ–°**: 2025-12-28 (é˜¶æ®µ2.5å®Œæˆï¼šCLIå·¥å…·å…¨éƒ¨å¼€å‘å®Œæˆ)
